const favoriteData = [
	{
		label: "ぬいぐるみ",
		hashtagColor: "blue",
		title: "ぬいぐるみあつめ",
		text: `
        ちいさいころからぬいぐるみが大好きで、家に溢れかえっています。<br />
        一人暮らしをはじめる時も、ぬいぐるみを持っていくか持っていかないかで１ヶ月ぐらい荷物の整理に時間がかかりました。<br />
        特に好きなのが推しポケモンのウパーやパモさんのぬいぐるみ、ちいかわのうさぎのぬいぐるみたちです。<br />
        もちろん大阪の家に持ってきました。<br />
        小旅行に連れて行ったり、作業を見守ったりしてくれています。相棒です。
    `,
		mainImg: "/_common/img/favorite/favorite_nuigurumi_img01.jpg",
		imgList: ["/_common/img/favorite/favorite_nuigrumi_img-list01.jpg", "/_common/img/favorite/favorite_nuigrumi_img-list02.jpg", "/_common/img/favorite/favorite_nuigrumi_img-list03.jpg", "/_common/img/favorite/favorite_nuigrumi_img-list04.jpg"],
	},
	{
		label: "味",
		hashtagColor: "pink",
		title: "辛いもの",
		text: `
        辛すぎるものは苦手ですが、旨辛ぐらいのものが大好きで、週に３回は食べます。<br />
        特に担々麺とトムヤムクンが好きです！！<br />
        ストレス発散や汗をかいてスッキリしたい時など、辛いものがこころに染みる感じがしてついつい食べ過ぎてしまいます。<br />
        食べ過ぎには注意しないと翌日に響きやすいので、食べる時はほどほどに…と自分に言い聞かせながら食べています。
    `,
		mainImg: "/_common/img/favorite/favorite-taste-img01.jpg",
		imgList: ["/_common/img/favorite/favorite-taste-img-list01.jpg", "/_common/img/favorite/favorite-taste-img-list02.jpg", "/_common/img/favorite/favorite-taste-img-list03.jpg", "/_common/img/favorite/favorite-taste-img-list04.jpg"],
	},
	{
		label: "Duolingo",
		hashtagColor: "green",
		title: "Duolingo",
		text: `
        約１年前から毎日Duolingoで英語に触れるようにしています。<br />
        めざせ！バイリンガル！英語話せるようになったらかっこいいな〜とか思いながら、のびのび英語を勉強しています。<br />
        まだまだDuolingoで学習している英語は簡単なので、いつか難しくなるんだろうな…と思いながら勉強しています。<br />
        まだ継続できているので、この調子で頑張っていこうかなーと思っています。<br />
        （現在：2025/08/25 400日連続記録更新中！）<br /><br />
        公式サイト：<a class="c-link" href="https://ja.duolingo.com/">https://ja.duolingo.com/</a>
    `,
		mainImg: "/_common/img/favorite/favorite_duolingo_img01.jpg",
		imgList: ["/_common/img/favorite/favorite_duolingo_img-list01.jpg", "/_common/img/favorite/favorite_duolingo_img-list02.jpg"],
	},
	{
		label: "IoT家電",
		hashtagColor: "orange",
		title: "SwitchBot",
		text: `
        効率化できるグッズが大好きで、ついつい部屋の中を自動化してしまいます。<br /><br />
        特に買ってよかったものはSwitchBotカーテンです！声だけでカーテンを開けたり閉めたりしてくれます。<br />
        それだけではなく、朝日や日没を自動検知したりしてくれて、カーテンを開閉してくれます。防犯的にも便利ですし、何よりも朝日で目覚めることができるのがQOL爆上がりでとても良いです◎<br /><br />
        SwitchBotカーテン：<a class="c-link" target="_blank" href="https://x.gd/3vZA9">https://x.gd/3vZA9</a><br /><br />
        少し値段が高いのがネックですが、一度買ってしまえば10年ぐらい持つのでは…と考えているのでコスパばつぐんです！<br /><br />
        入門編としてはSwitchBotハブを買って、赤外線コントロールできるリモコン家電を全部声やスマホで操作できるようにするのがおすすめです！オートメーション機能を使って自動化したりできるのですごく便利です！<br /><br />
        ほかにも何か生活を豊かにできる便利グッズがあればぜひ教えてください！
    `,
		mainImg: "/_common/img/favorite/favorite-switchbot-img01.jpg",
		imgList: [],
	},
	{
		label: "キャラクター",
		hashtagColor: "blue",
		title: "ちいかわ",
		text: `
        専門学生のときからちいかわが大好きで、グッズ収集をしていました。（北野館に形跡が…！？）<br />
        特にうさぎが好きです。<br />
        天真爛漫で破天荒だけど、ちいかわとハチワレには優しい友達でいてくれるうさぎが癒しです。モモンガには気を許していないところも可愛いです。<br />
        さらにうさぎは賢いので、ちいかわやハチワレの知らないところで草むしり検定を受けて、ついに２級に受かってました！スゴイ！<br />
        努力をしているけど、周りには見せない…そんな自己顕示欲、承認欲求的なものがあまり見受けられず、本能のままに生きているところがうさぎの良さだと思っています！！<br /><br />
        （↑イラストはお友達に描いてもらいました！）
    `,
		mainImg: "/_common/img/favorite/favorite-character-img01.jpg",
		imgList: ["/_common/img/favorite/favorite-character-img-list01.jpg", "/_common/img/favorite/favorite-character-img-list02.jpg", "/_common/img/favorite/favorite-character-img-list03.jpg", "/_common/img/favorite/favorite-character-img-list04.jpg"],
	},
	{
		label: "ゲーム",
		hashtagColor: "pink",
		title: "Nintendo Switch",
		text: `
        I love Nintendo !!<br />
        歳の離れた兄がいる影響で、とても小さい時からゲームが生活の一部となっていました。<br />
        人生で一番最初にしたゲームはおそらくポケモンのルビーです。当時はインターネットがそんなに普及していなかったので、攻略本を片手に点字を解読していました。<br /><br />
        ゲームが得意というわけではないのですが、大好きなので、ニンテンドーが出しているマリオのゲームは絶対にハズレがないと思っていて、Switchで出ているマリオのゲームはほとんど持っていると思います。<br /><br />
        さらに！最近でたSwitch2！<br />
        ついに手に入れることが確定しました〜！！<br />
        大変喜ばしいです！（2025/08/25現在）<br /><br />
        マリカワも楽しそうだし、バナンザも楽しそうだし、エアライドも楽しそうで時間が足りなさそうで困っちゃいます。まずはさらに画質が良くなったティアキンをプレイしてゆっくり様子見をしていこうと思っています！
    `,
		mainImg: "/_common/img/favorite/favorite-game-img01.jpg",
		imgList: [],
	},
	{
		label: "アニメ",
		hashtagColor: "green",
		title: "アニメ",
		text: `
        アニメも大好きで良く観ています。<br />
		一人暮らしなので、料理を作るときも、お風呂上がりの寝るまでの時間のチルタイムも全てアニメに捧げてると言っても過言ではないです。((過言<br /><br />
		特に好きでついつい何回も観てしまうのが、<br /><br />
		・HUNTER×HUNTER<br />
		・転生したらスライムだった件<br />
		・賭ケグルイ<br />
		・モブサイコ100<br />
		・斉木楠雄のΨ難<br />
		・SPY×FAMILY<br />
		・僕のヒーローアカデミア<br /><br />
		...などなどあげていたらキリがないですね。<br />
		最近では、悪役令嬢ものを片っ端から観て行ったり、鬼滅の映画が上映中なので、鬼滅を立志編からイッキ見しました〜！めちゃテンポ良くて面白いです！<br /><br />
		なにかオススメのアニメあったら観てみたいので、ぜひ教えてくださいね！
    `,
		mainImg: "/_common/img/favorite/favorite-anime-img01.jpg",
		imgList: [],
	},
	{
		label: "お花",
		hashtagColor: "pink",
		title: "お花",
		text: `
		生花も造花もモチーフもお花であれば全て好きです！<br />
		お花って買おうとしないと手に入らない、「丁寧な暮らし」そのものだと思っています！<br /><br />
		最近ではUNIQLO FLOWERなど手軽にお花を買える機会が増えたので、フラワーベースを買ってきてお部屋にお花を飾っている時がありました...<br /><br />
		アクセサリーや小物など、ついついお花モチーフのものを買ってしまったりします！<br /><br />
		もし私にプレゼントとかくれる人がいたら、とりあえずお花のものを買っておけば間違いないです！<br /><br />
		一番好きなお花はデイジーです！    `,
		mainImg: "/_common/img/favorite/favorite-flower-img01.jpg",
		imgList: ["/_common/img/favorite/favorite-flower-img-list01.jpg", "/_common/img/favorite/favorite-flower-img-list02.jpg", "/_common/img/favorite/favorite-flower-img-list03.jpg", "/_common/img/favorite/favorite-flower-img-list04.jpg"],
	},
	{
		label: "色",
		hashtagColor: "green",
		title: "きみどり",
		text: `
		よく使う色は青とか水色とかですが、<br />
		実は黄緑色が一番好きです。<br />
		全面黄緑とかではなくて、アクセントで黄緑が入っていたり、小物に黄緑を使ったりするのが好きです。<br />
		あと、緑色の食べ物は基本なんでも好きです。<br /><br />
		学生時代、黄緑が好きすぎて、ビリー・アイリッシュさんみたいな髪色にしたい！と美容師さんにお願いしたら、全力で止められました...。<br /><br />
		当時ピンク系の髪色にすることが多く、赤がどうしても残ってしまうから難しいらしいです。<br /><br />
		そもそも黄緑は結構色素沈着したり、色落ちが微妙になっちゃったりするみたいです。<br /><br />
		いつか蛍光イエローグリーンやってみたいな〜と思いながら若いうちにやっておけばよかった...と後悔することになるんだと思っています。<br /><br />
		インナーだけとかだったらいけるかなぁと思ったりしていますが、教員の間は我慢です...。
    `,
		mainImg: "/_common/img/favorite/favorite-color-img01.jpg",
		imgList: ["/_common/img/favorite/favorite-color-img-list01.jpg", "/_common/img/favorite/favorite-color-img-list02.jpg", "/_common/img/favorite/favorite-color-img-list03.jpg", "/_common/img/favorite/favorite-color-img-list04.jpg"],
	},
	{
		label: "服",
		hashtagColor: "blue",
		title: "綺麗めカジュアル",
		text: `
		服装は綺麗めカジュアルが好きでよくきています。<br />
		本当はふわふわ女の子みたいな服装が好きなのですが、私自身身長が高いのと、似合わないのであまり着ません。最近になって、黒とか無難な色を着るようになりましたが、黒は似合わないなぁ〜と思いながら着ています。<br />
		大体スカートを履いていることが多いですが膝より上を出したく無いので、ロングスカートばかり履いています。<br />
		服をよく買うお店は、<br /><br />
		・AZUL BY MOUSSY<br />
		・one after another NICE CLAUP<br />
		・LOWRYS FARM<br />
		・GLOBAL WORK<br />
		・GU / UNIQLO<br /><br />
		です。<br />
		あとはZOZOとかアウトレットとかでお安い服をまとめて買ったりします！<br />
		骨格とかパーソナルカラーとか診断していないので、いつか診断して、本当に自分に似合う服を見つけ出したいと思います。<br /><br />
		（自認ではイエベ春/骨格ストレートです）
		`,
		mainImg: "/_common/img/favorite/favorite-clothes-img01.jpg",
		imgList: ["/_common/img/favorite/favorite-clothes-img-list01.jpg", "/_common/img/favorite/favorite-clothes-img-list02.jpg", "/_common/img/favorite/favorite-clothes-img-list03.jpg"],
	},
	{
		label: "動物",
		hashtagColor: "pink",
		title: "あにまるず",
		text: `
		動物とのふれあいは最高の癒し！！<br />
		1ヶ月に1回はペットショップや、アニマルカフェに行って癒されています。<br />
		いつかお迎えしたいのですが、一人暮らしでは難しくて、一人ぼっちにさせてしまうのは可哀想だし、家を空けることもしばしばあるので、私自身もっと安定して、家でお仕事できるようになったりしたらお迎えしたいなと思っています。<br /><br />
		アニマルセラピーという言葉があるように、動物をみたり触れたりするだけですごくストレス値が下がるように感じます。<br /><br />
		もしひとりで行く勇気が...みたいな人がいたら喜んでついていくので声かけてくださいね〜！
		`,
		mainImg: "/_common/img/favorite/favorite-animal-img01.jpg",
		imgList: ["/_common/img/favorite/favorite-animal-img-list01.jpg", "/_common/img/favorite/favorite-animal-img-list02.jpg", "/_common/img/favorite/favorite-animal-img-list03.jpg", "/_common/img/favorite/favorite-animal-img-list04.jpg"],
	},
	{
		label: "カフェ",
		hashtagColor: "orange",
		title: "カフェ巡り",
		text: `
		お友達と一緒におしゃれなカフェを巡るのが趣味です♡<br />
		スイーツはあまりたくさん食べられないので、美味しそうなランチメニューがあるカフェによく行きます♫<br /><br />
		中でも最近行った中で感動したのが、Hyde & Away 神戸三宮店です！梅田にもあるらしいのですが、今回は三宮ということで...<br />
		こちらのお店は、店内の装飾もアンティークで素敵ですが、なによりもオシャレすぎます！！<br />
		行った日はブルーベリーのヨーグルトタルトと、葡萄とオレンジのアイスティーを頼んだのですが、目の前に配膳された瞬間素敵すぎて思わず声が出てしまいました。<br />
		もちろん味もとっても美味しくて、深みがあります。<br />
		単調な味ではなく、咀嚼するごとに風味が変わる感じです。（伝われ）<br /><br />
		とりあえずとっても大満足だったので、興味ある方はぜひ行ってみてくださいー！
		`,
		mainImg: "/_common/img/favorite/favorite-cafe-img01.jpg",
		imgList: ["/_common/img/favorite/favorite-cafe-img-list01.jpg", "/_common/img/favorite/favorite-cafe-img-list02.jpg", "/_common/img/favorite/favorite-cafe-img-list03.jpg", "/_common/img/favorite/favorite-cafe-img-list04.jpg"],
	},
	{
		label: "お菓子",
		hashtagColor: "pink",
		title: "ポテチ",
		text: `
		お菓子の中で一番好きなのは「ポテチ」です！！<br />
		意外〜と言われることが多いのですが、ポテチを食べている時が一番幸せです。<br /><br />
		よく食べるわけじゃないのですが、のり塩とブラックペッパーが大好きです。<br /><br />
		海外のポテチも大好きで、日本と違って、じゃがいもの本来の旨みが際立つ感じとバリバリした食感が病みつきになります。<br /><br />
		特に、Laysのサワークリーム＆オニオンが美味しすぎて、一袋に結構な量が入っているのですが、1日でなくなってしまいます。<br /><br />
		映画とかみながら食べてたら本当に一瞬でなくなってしまいます…<br /><br />
		日本のポテチも種類たくさんありますが、やっぱり海外のポテチはなんとも言えない体に悪い感じが染みるなぁ〜と思っていつも食べています。
		`,
		mainImg: "/_common/img/favorite/favorite-snack-img01.jpg",
		imgList: [],
	},
	{
		label: "YouTube",
		hashtagColor: "green",
		title: "ゲーム実況",
		text: `
		ほぼ毎日YouTubeでゲーム実況をみます！<br />
		特に好きなのが、「牛沢」です。<br />
		実況するゲームや声、ワードチョイスなど、何もかも好きです。<br />
		たまに実写動画を上げてくれるのですが、ビジュアルも大好きです。色白で眼鏡で細身で、センターパートが似合う感じが全て好きです。<br />
		あんなに尖ったワードセンスなのに、小さい動物が好きで、めっちゃ優しくなるところも大好きです。<br />
		あんなに口が悪いのに怖いのが無理なところも可愛くて好きです。<br />
		全てが好きなので、毎日声を摂取して癒されています...！<br /><br />
		牛沢の他には同じくTOP4のキヨやレトルト、ガッチマンを見たり、Vtuberさんの配信もごくたまに見ます。Vはゲーム実況よりかは企画ものをよく見るかもしれません！<br /><br />
		小説など、文字を読むのが苦手なので、実況として上手に呼んでくれるのが助かります...
		`,
		mainImg: "/_common/img/favorite/favorite-top4-img01.jpg",
		imgList: ["/_common/img/favorite/favorite-top4-img-list01.jpg", "/_common/img/favorite/favorite-top4-img-list02.jpg", "/_common/img/favorite/favorite-top4-img-list03.jpg", "/_common/img/favorite/favorite-top4-img-list04.jpg"],
	},
	{
		label: "映画",
		hashtagColor: "orange",
		title: "映画鑑賞",
		text: `
		あらゆる動画サブスクに入っているので、よく映画を観ます！<br /><br />
		特にSF映画が好きでよく見るのですが、クリストファー・ノーラン監督の「インターステラー」が今まで観てきた映画の中でも一番感動しました。映画自体は3時間あるはずなのですが、マジであっという間です。<br />
		この間、１０周年記念でIMAX再上映があったので、観てきたのですが、もう最高でした...！！何が最高って、映像はもちろん、音が最高でしたね...<br />
		無音のところはまるで時が止まったように静かで、激しい音は、振動が伝わってくるぐらいの臨場感で、本当に体験の映画だったな〜としみじみ思います。<br /><br />
		アニメ映画も好きで、鬼滅の無限城の3DCGは圧巻でした...迷子にならない場面転換でとっても観やすかったです！<br /><br />
		最近みたなかでおもしろかったなーって思うのは<br /><br />
		・かがみの孤城<br />
		・オデッセイ<br />
		・ブルージャイアント<br />
		・ソロモンの偽証<br />
		・イミテーション・ゲーム<br /><br />
		です！アマプラとかNetflixとかで観れるので、ぜひ観てみてください！<br />
		おすすめの映画あれば教えてください！
		`,
		mainImg: "/_common/img/favorite/favorite-movie-img01.jpg",
		imgList: [],
	},
	{
		label: "写真",
		hashtagColor: "pink",
		title: "ミラーレス",
		text: `
		高校3年生の時に買った、CanonのミラーレスEOSkiss mの白色を愛用しています。当時5万円ぐらいで買ったつもりなのですが、今値段上がっててびっくりしています...<br /><br />
		写真趣味にしたいな〜と思いつつ買ったのですが、今のIphoneの性能とかポートレートモードが優秀なので、持ち運ぶ手間や、編集の手間などを考えてしまうと億劫になってしまいます...<br /><br />
		誰か一緒に紅葉とか、桜とか撮りにいきませんか...。
		`,
		mainImg: "/_common/img/favorite/favorite-camera-img01.jpg",
		imgList: ["/_common/img/favorite/favorite-camera-img-list01.jpg", "/_common/img/favorite/favorite-camera-img-list02.jpg"],
	},
	{
		label: "季節",
		hashtagColor: "orange",
		title: "春",
		text: `
		四季の中で一番好きなのは春です！<br />
		秋も好きなのですが、アレルギー体質で花粉やらなんやらで肌も荒れるし鼻水ズビズビになります。<br /><br />
		春の好きなところは、涼しい風に温かい日差し、まるで時間がゆっくり過ぎていきそうな穏やかな気候なところです。あとは、お花が好きなので、空を見ても地面を見ても、カラフルな世界が広がっています。<br />
		特に、淡い小さな花が多いので、すごく繊細で淡いふんわりした世界に囲まれているような気分になります。<br /><br />
		春のお昼時にお昼寝するのがすごく好きです！
		`,
		mainImg: "/_common/img/favorite/favorite-season-img01.jpg",
		imgList: ["/_common/img/favorite/favorite-season-img-list01.jpg", "/_common/img/favorite/favorite-season-img-list02.jpg", "/_common/img/favorite/favorite-season-img-list03.jpg", "/_common/img/favorite/favorite-season-img-list04.jpg"],
	},
	{
		label: "香り",
		hashtagColor: "blue",
		title: "香水",
		text: `
		最近、香水にハマっています！<br />
		身につけるというよりかは香水の瓶ってすごくクオリティが高くて、キラキラしているのでコレクションするのにハマっています。<br /><br />
		もちろん香りも好きなものを買っているのですが、最近自分が好きな香りの統計が取れてきました。<br /><br />
		おそらく甘いムスク系・甘い柑橘系が苦手で、ゼラニウム・フローラル系などの爽やかな香りが好きです。<br /><br />
		今まで入手してきた中で一番香りが好みだったのが、JILLSTUARTのクリスタルブルーム スノーでした。<br />
		甘過ぎず可憐な女の子の匂いがします。好き過ぎて持ち運ぶ用の小さいサイズも買ってしまいました。<br /><br />
		逆に一番苦手だったのが、DIORのブルーミング ブーケでした。どフローラル系なのですが、ムスクみが強い気がします。期間限定のSAKURAは好き過ぎてもう無くなりそうです。<br /><br />
		最近は、NILEのセロトニンという香りの香水をよくつけています。幸せホルモンの香りなんて名前の香水見つけた時にはすぐ買っちゃいましたね...<br />
		こちらは結構甘い系なのですが、お安めの香水なのでバシャバシャ使えるじゃんと思って普段使いとしてつけています。<br /><br />
		皆さんはどんな香りが好きですか？
		`,
		mainImg: "/_common/img/favorite/favorite-perfume-img01.jpg",
		imgList: [],
	},
	{
		label: "食べ物",
		hashtagColor: "pink",
		title: "ベシャメルソース",
		text: `
		人には様々な好きなものがあると思いますが、私にとってベシャメルソースは、特別な時に食べたいランキングナンバーワンといった感じです！<br /><br />
		例えば自分の誕生日とか、仕事頑張ったご褒美とか...そんな時にシチューとかグラタンとか、ホワイトソース系の食べ物を食べたいな〜と思います！<br /><br />
		濃厚なのであまり量は食べられないのですが、チーズたっぷりのグラタンや、お野菜たっぷりのクリームシチュー、ジャンキーでたまらないマカロニ&チーズなど、疲れた時こそ、ベシャメルソース系の食べ物が食べたくなります！
		`,
		mainImg: "/_common/img/favorite/favorite-food-img01.jpg",
		imgList: ["/_common/img/favorite/favorite-food-img-list01.jpg", "/_common/img/favorite/favorite-food-img-list02.jpg"],
	},
	{
		label: "飲み物",
		hashtagColor: "green",
		title: "ミルクティー",
		text: `
		普段あまりお茶かじ水しか買わないようにしているのですが、リラックスしたい時や、作業に集中できない時などはミルクティーを飲みます。<br />
		特に、Gong chaの黒糖烏龍ミルクティーが大好物です。<br />
		多分甘すぎるものは好きじゃないのですが、どこか香ばしさを感じる飲み物が好きなんでしょうね。<br /><br />
		お茶で言うと普通のお茶なら爽健美茶か玄米茶、ティーだったらジャスミンティーが好きです。<br /><br />
		夏にジャスミンティーを飲むと体温が下がる気が本当にするので、ごくごく飲んでいます。<br /><br />
		健康に良さそうなドリンクも好きで、スムージーや豆乳、プロテインなどもよく飲みます。
		`,
		mainImg: "/_common/img/favorite/favorite-drink-img01.jpg",
		imgList: [],
	},
	{
		label: "アーティスト",
		hashtagColor: "pink",
		title: "大好きなアーティスト達",
		text: `
		高校生の時には軽音部に入るくらいには、音楽が好きです！兄がいる影響で、兄妹一緒に音楽フェスとかに連れて行ってもらっていました！<br />
		人生で一番最初に好きになった邦ロックはおそらくRADWIMPSのDADAです。当時PSPの中に入っていたMVをずっと見ていた記憶があります。そこからUVERworldを好きになり、BUMP OF CHICKENを好きに、米津さんも好きになり...という遍歴です。<br />
		最近では、めっぽうヨルシカが好きです。<br />
		どのくらい好きかと言うと、リリースされている曲は全部歌えるぐらいです。n-bunaさんが作った曲や、ボーカルのsuisさんが歌っているものまで追いかけていました。<br />
		あとは、シンガーソングライターのりりあ。さんの曲をよく聞くようになりました！（別に失恋はしていません）<br />
		最近好きかも...みたいなアーティストはharhaです。すごくヨルシカに似ているのですが、もう少し尖っている感じがあります。「人生オーバー」という曲を聴いてからハマりました！ぜひ聴いてみてください。<br /><br />
		また、おすすめの曲とかあったら教えてください！<br />
		（最近、クリープハイプとVaundyの曲聴いてます！）
		`,
		mainImg: "/_common/img/favorite/favorite-artist-img01.jpg",
		imgList: [],
	},
];

const NO_IMAGE = "/_common/img/no_image.svg";
(function () {
	const btnContainer = document.getElementById("favoriteBtnContainer");
	const pcContainer = document.getElementById("favoriteContents"); // PC側
	const modal = document.getElementById("favoriteModal");
	const modalContent = document.getElementById("favoriteModalContent"); // モーダル側（中身置き場）
	const modalClose = document.getElementById("favoriteModalClose");

	if (!btnContainer || !pcContainer || !modal || !modalContent || !modalClose) return;

	// ボタン生成 & パネル生成（PC / モーダルの両方に全タブ分を常駐させる）
	const pcPanels = [];
	const modalPanels = [];

	favoriteData.forEach((item, index) => {
		// ====== ボタン ======
		const btn = document.createElement("button");
		btn.className = "favorite__btn";
		btn.innerHTML = `<span class="favorite__btn--hashtag ${item.hashtagColor}">＃</span>${item.label}`;
		if (index === 0) btn.classList.add("active");
		btn.addEventListener("click", () => onTabClick(index));
		btnContainer.appendChild(btn);

		// ====== パネル（共通の中身HTML） ======
		const images = [...item.imgList];
		const need = Math.max(0, 4 - images.length);
		for (let i = 0; i < need; i++) images.push(NO_IMAGE);
		const fourImages = images.slice(0, 4);

		const innerHTML = `
      <div class="favorite__contents--img">
        <img src="${item.mainImg}" alt="${item.title}" />
      </div>
      <h3 class="favorite__contents--title">${item.title}</h3>
      <p class="favorite__contents--content">${item.text}</p>
      <ul class="favorite__contents--img-list">
        ${fourImages
			.map(
				(src) => `
          <li class="favorite__contents--img-item">
            <img src="${src}" alt="">
          </li>`
			)
			.join("")}
      </ul>
    `;

		// ====== PC用パネル ======
		const pcPanel = document.createElement("div");
		pcPanel.className = "favorite__panel" + (index === 0 ? " is-active" : "");
		pcPanel.innerHTML = innerHTML;
		pcContainer.appendChild(pcPanel);
		pcPanels.push(pcPanel);

		// ====== モーダル用パネル ======
		const spPanel = document.createElement("div");
		spPanel.className = "favorite__panel" + (index === 0 ? " is-active" : "");
		spPanel.innerHTML = innerHTML;
		modalContent.appendChild(spPanel);
		modalPanels.push(spPanel);
	});

	const buttons = Array.from(btnContainer.querySelectorAll(".favorite__btn"));

	// タブクリック
	function onTabClick(index) {
		// ボタンのactive
		buttons.forEach((b, i) => b.classList.toggle("active", i === index));

		// PC側パネルの切替
		pcPanels.forEach((p, i) => {
			p.classList.toggle("is-active", i === index);
		});

		// モーダル側パネルの切替
		modalPanels.forEach((p, i) => {
			p.classList.toggle("is-active", i === index);
		});

		// === スクロール位置リセット ===
		// 少し遅らせて「切り替え後」にリセットする
		setTimeout(() => {
			// PC側
			const pcContentsContainer = document.querySelector(".favorite__contents-container");
			if (pcContentsContainer) pcContentsContainer.scrollTop = 0;

			// モーダル側
			const inner = modal.querySelector(".favorite__modal-inner");
			if (inner) inner.scrollTop = 0;
		}, 0); // ← requestAnimationFrameでもOK

		// SP（<=768）ならモーダル起動
		if (window.innerWidth <= 768) {
			openModal();
		}
	}

	// モーダル開閉
	function openModal() {
		if (modal.classList.contains("open")) return;

		// 表示（display:flex にする既存の .open を付与）
		modal.classList.add("open");
		// スクロール止め
		document.body.style.overflow = "hidden";

		// 次フレームで is-show を付けてトランジションを開始
		requestAnimationFrame(() => {
			modal.classList.add("is-show");

			// 開いてすぐのスクロールリセット（既存の対応を残す）
			const inner = modal.querySelector(".favorite__modal-inner");
			if (inner) inner.scrollTop = 0;
		});
	}

	function closeModal() {
		if (!modal.classList.contains("open")) return;

		// アニメーション開始（is-show を外す → フェードアウト）
		modal.classList.remove("is-show");

		// トランジション終了を待ってから display:none 相当の .open を外す
		const onTransitionEnd = (e) => {
			// opacity の終了イベントだけ拾う（安全のため）
			if (e.target !== modal || e.propertyName !== "opacity") return;

			cleanup();
		};

		const cleanup = () => {
			modal.classList.remove("open");
			// スクロール解除
			document.body.style.overflow = "";
			modal.removeEventListener("transitionend", onTransitionEnd);
			clearTimeout(fallbackTimer);
		};

		modal.addEventListener("transitionend", onTransitionEnd);

		// 万が一 transitionend が来ないブラウザ対策：フォールバックで強制解除（450ms）
		const fallbackTimer = setTimeout(cleanup, 450);
	}

	modalClose.addEventListener("click", closeModal);
	document.addEventListener("keydown", (e) => {
		if (e.key === "Escape") closeModal();
	});

	// 画面幅が広がったら（>768）モーダルを閉じてPCに戻す
	let lastIsSp = window.innerWidth <= 768;
	window.addEventListener("resize", () => {
		const isSp = window.innerWidth <= 768;
		if (lastIsSp && !isSp) {
			closeModal();
		}
		lastIsSp = isSp;
	});
})();
